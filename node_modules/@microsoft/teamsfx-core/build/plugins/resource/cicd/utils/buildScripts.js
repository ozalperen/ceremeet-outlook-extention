"use strict";
// Copyright (c) Microsoft Corporation.
// Licensed under the MIT license.
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateBuildScript = void 0;
// TODO: add support for VS/.Net Projects.
function generateBuildScript(projectSettings) {
    const parts = [];
    const solutionSettings = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.solutionSettings;
    const capabilities = solutionSettings === null || solutionSettings === void 0 ? void 0 : solutionSettings["capabilities"];
    const azureResources = solutionSettings === null || solutionSettings === void 0 ? void 0 : solutionSettings["azureResources"];
    const hostType = solutionSettings === null || solutionSettings === void 0 ? void 0 : solutionSettings["hostType"];
    if (capabilities === null || capabilities === void 0 ? void 0 : capabilities.includes("Tab")) {
        if (hostType && hostType === "Azure")
            parts.push("cd tabs; npm ci; npm run build; cd -;");
        if (hostType && hostType === "SPFx")
            parts.push("cd SPFx; npm ci; npm run build; cd -;");
    }
    if ((capabilities === null || capabilities === void 0 ? void 0 : capabilities.includes("Bot")) || capabilities.includes("MessagingExtension")) {
        if (projectSettings.programmingLanguage === "typescript") {
            parts.push("cd bot; npm ci; npm run build; cd -;");
        }
        else {
            parts.push("cd bot; npm ci; cd -;");
        }
    }
    if ((azureResources === null || azureResources === void 0 ? void 0 : azureResources.includes("function")) &&
        projectSettings.programmingLanguage === "typescript") {
        parts.push("cd api; npm ci; npm run build; cd -;");
    }
    return parts.join("");
}
exports.generateBuildScript = generateBuildScript;
//# sourceMappingURL=buildScripts.js.map